# ================
# parts
# ================

# root 3 - truncated octahedron (default) 
HCP_PACKING ROOT3
DEFINE LX 1
DEFINE NX 10
DEFINE DELTA ($(LX)/$(NX))
DEFINE NZ 10
DEFINE LZ ($(NZ)*$(DELTA)*sqrt(3.0)/2.0)
HCP_DELTA = $(DELTA)

# root 2 - truncated octahedron
#HCP_PACKING ROOT2
#DEFINE LX 3/(sqrt(2.0)/sqrt(3.0)) 
#DEFINE NX 3
#DEFINE DELTA ($(LX)/$(NX))
#DEFINE NZ 3
#DEFINE LZ ($(NZ)*$(DELTA)*sqrt(2.0)/2.0)
#HCP_DELTA = $(DELTA)/pow(3.0/2.0,1.0/3.0)

# root 1 - rhombic dodecahedron
#HCP_PACKING ONE
#DEFINE NX 3
#DEFINE DELTA ($(LX)/$(NX))
#DEFINE NZ 3
#DEFINE LX 3/(sqrt(1.0)/sqrt(3.0)) 
#DEFINE LZ ($(NZ)*$(DELTA)*sqrt(1.0)/2.0)
#HCP_DELTA = $(DELTA)/pow(3.0/1.0,1.0/3.0)

# two directions of spanwise periodicity. Note that 
# y AND z directions are set for "perfect" periodicity
PART main \
     SURF SIMPLE_BOX -$(LX) $(LX) -$(LZ) $(LZ) -$(LZ) $(LZ) PERIODIC_X PERIODIC_Y PERIODIC_Z 

#HCP_WINDOW FAZONE x0 LEVEL=2 NLAYERS=20

# channels and boundary layers...
#PART main \
#     SURF SIMPLE_BOX -$(LX) $(LX) -1 1 -$(LZ) $(LZ) PERIODIC_X PERIODIC_Z \
#     PTS HCP 
#HCP_WINDOW FAZONE y0,y1 LEVEL=2 NLAYERS=7

# cart periodicity
#PART main \
#     SURF SIMPLE_BOX -sqrt(3)/2 sqrt(3)/2 -sqrt(3)/2 sqrt(3)/2 -sqrt(3)/2 sqrt(3)/2 PERIODIC_X PERIODIC_Y PERIODIC_Z \
#     PTS CART 2 2 2
#PART main \
#     SURF SIMPLE_BOX -1 1 -1 1 -1 1 PERIODIC_X PERIODIC_Y \
#     PTS CART 2 2 1

NSMOOTH 5

#WRITE_CHECK TECPLOT
#WRITE_IMAGE NAME=iso_box GEOM=PLANE 2 1.4 1.0 1 0.7 0.5 SIZE 1000 1000 VAR=mesh MESH_ON_SURFACE
#WRITE_IMAGE NAME=iso_box GEOM=PLANE 2 1.4 1.0 1 0.7 0.5 SIZE 1000 1000 VAR=mesh MESH_ON_SURFACE
#WRITE_IMAGE NAME=x_box GEOM=PLANE 2 0 0 1 0 0 SIZE 1000 1000 VAR=mesh MESH_ON_SURFACE
#WRITE_IMAGE NAME=y_box GEOM=PLANE 0 2 0 0 1 0 SIZE 1000 1000 VAR=mesh MESH_ON_SURFACE
#WRITE_IMAGE NAME=z_box GEOM=PLANE 0 0 2 0 0 1 SIZE 1000 1000 VAR=mesh MESH_ON_SURFACE
#WRITE_IMAGE INTERVAL 10 NAME=all SIZE=2000 2000 VAR=mesh MESH_ON_SURFACE
#WRITE_IMAGE INTERVAL 10 NAME=x0 GEOM=X_PLANE_FRAC 0.5 SIZE=2000 2000 VAR=mesh MESH_ON_SURFACE UP=0 0 1
#WRITE_IMAGE INTERVAL 10 NAME=y0 GEOM=Y_PLANE_FRAC 0.5 SIZE=2000 2000 VAR=mesh MESH_ON_SURFACE UP=1 0 0
#WRITE_IMAGE INTERVAL 10 NAME=z0 GEOM=Z_PLANE_FRAC 0.5 SIZE=2000 2000 VAR=mesh MESH_ON_SURFACE UP=0 1 0

#WRITE_RESTART #restart_channel.mles
#INTERACTIVE

WRITE_MLES
