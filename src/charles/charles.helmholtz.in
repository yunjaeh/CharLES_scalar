VERBOSE

RESTART ../stitch/restart.mles
#NO_WALL_INTERP
#RESTART cart_10x10x10.les #result_wm.les

INIT u 1 0 0 p 0 

#ADD_BODY_FORCE TYPE PMM INTERVAL 2 NAME test_pmm GEOM BOX -0.25 0.25 -0.25 0.25 -0.25 0.25 DIR_1 1 0 0 DIR_2 0 1 0 INERTIAL_COEFF 1 1 1 VISCOUS_COEFF 0.01 0.01 0.01
#STATS u p rho mach() total_p()

EOS HELMHOLTZ
RHO = 1.0
MU = 0.025
HELMHOLTZ_SOS 10

#SGS_MODEL DSM_LOCAL NFILTER 5
SGS_MODEL VREMAN

MG_AGGLOMERATION_FACTOR 8 
MG_SPLIT_ORPHANED_COLORS true

MOMENTUM_MG_NLEVEL 2 # coarse grids + 1 fine grid
MOMENTUM_MG_NSMOOTH 10,10,10,10 # first is fine grid
MOMENTUM_MG_SMOOTHER 2,2,2,2 # 0 Jacobi, 1 GS, 2 Patr, 3 TIM
MOMENTUM_MG_PROLONG_RELAX 1.0 # < 1 for high cfl

MOMENTUM_RELAX 1.0 # Jacobi and GS might need < 1.0
MOMENTUM_MAXITER 100
MOMENTUM_ZERO 1e-6

PRESSURE_MG_NLEVEL 2 # coarse grids + 1 fine grid
PRESSURE_MG_NSMOOTH 5,5,5,1000 # first is fine grid
PRESSURE_MG_SMOOTHER 1,1,1,3 # 0 Jacobi, 1 SGS, 2 Patr, 3 CG
PRESSURE_MG_SOLVE_ON_COARSEST # uses CG on coarsest grid

PRESSURE_RELAX 1.0 # Jacobi and SGS might need < 1.0
PRESSURE_MAXITER 100
PRESSURE_ZERO 1e-6 # solve more at high CFL

TIMESTEP DT 0.025
CHECK_INTERVAL 1
NSTEPS 10
#WRITE_RESULT 1

# register a single scalar that blows in ..

REGISTER_SCALAR foo
REGISTER_SCALAR foo2
SCALAR_SOLVER PATR
INIT foo 0.0 foo2 0.0
foo.SC_LAM = 0.7
foo.SC_T = 0.9

# bcs
main.x0 INLET 1.0 0.0 0.0 foo 1.0 foo2 0.5
main.x1 OUTLET_VV 0.1 2.0 0.0 0.0
main.y0 WALL
main.y1 SLIP
main.z0 WALL
main.z1 SLIP

WRITE_DATA NAME test_dt INTERVAL 1 FORMAT ENSIGHT DUAL GEOM ALL VARS vol_cv x_cv

#WRITE_IMAGE INTERVAL 1 NAME foo GEOM Z_PLANE_FRAC 0.5 SIZE 1000 1000 VAR foo 
#WRITE_IMAGE INTERVAL 1 NAME foo2 GEOM Z_PLANE_FRAC 0.5 SIZE 1000 1000 VAR foo2
#WRITE_FORCE NAME y0_forces INTERVAL 1 FAZONE y0 #MOMENT 0 0 0 
#INTERACTIVE
#

